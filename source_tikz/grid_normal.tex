\documentclass[tikz, border=50pt]{standalone}

\usepackage{tikz}
\usepackage{medl_colors}
\usepackage{amsmath,xstring}
\usepackage{ifthen}
\usetikzlibrary{shapes.multipart, shapes.geometric, arrows.meta}
\usetikzlibrary{matrix, calc, positioning,fit, backgrounds}
\begin {document}

\begin{tikzpicture}[every node/.style={minimum size=1cm},on grid]

\begin{scope}

\newcommand\slantarray[5]{
    \foreach \i in {1,...,#3}{
        \foreach \j in {1,...,#4}{
            \node (node-#5\i\j) at (#1+\i-.5, #2-\j+.5) {$#5_{\j,\i}$};
        }
    }
    \draw (#1,#2) grid[step=1] (#1+#3, #2-#4);
}

\newcommand\fillbg[6]{
    \begin{scope}[on background layer]
    \node[rectangle,thick, minimum size=1cm,fill=#5, fill opacity=0.65] at (#1+.5+#3,#2-.5-#4){#6};    
    \end{scope}
}

\newcommand\lines[6]{
    \draw[#4, ultra thick, opacity=#6] (#1,#2) -- (#1+#3,#2);
    \draw[#4, ultra thick, opacity=#6] (#1+#3,#2) -- (#1+#3,#2-#3);
    \draw[#4, ultra thick, opacity=#6] (#1+#3,#2-#3) -- (#1,#2-#3);
    \draw[#4, ultra thick, opacity=#6] (#1,#2-#3) -- (#1,#2);
    \pgfmathparse{int(#3-1)} \edef\prev{\pgfmathresult};
    \foreach \i in {0,...,\prev}{
        \foreach \j in {0,...,\prev}{
            \fillbg{#1}{#2}{\i}{\j}{#5}{}
        }
    }
}

\slantarray{5}{0}{7}{6}{x};
\begin{scope}[yshift=.5cm]
    \slantarray{0}{-2}{3}{3}{w};
\end{scope}
\slantarray{14}{-1}{5}{4}{z};


\lines{5}{0}{3}{green3}{green0}{1}
\lines{6}{0}{3}{red}{pink1}{.4}

\lines{14}{-1}{1}{green3}{green0}{1}
\lines{15}{-1}{1}{red}{pink1}{.4}

\node at (1.5,-5) {$\large x$};
\node at (8.5,-6.5) {$\large w$};
\node at (16,-5.5) {$\large z$};

\node at (4,-3) {$\large \star$};
\node at (13,-3) {$\large =$};

\end{scope}
\end{tikzpicture}
\end{document}