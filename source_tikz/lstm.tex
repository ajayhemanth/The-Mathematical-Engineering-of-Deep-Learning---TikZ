\documentclass[tikz, border=50pt]{standalone}

\usepackage{tikz}
\usepackage{medl_colors}
\usepackage{amsmath,xstring}
\usepackage{ifthen}
\usetikzlibrary{shapes.multipart, shapes.geometric, arrows.meta, decorations.pathreplacing, calligraphy}
\usetikzlibrary{matrix, calc, positioning,fit, backgrounds}
\usetikzlibrary{decorations.markings}


\tikzset{middlearrow/.style={
        decoration={markings,
            mark= at position .5 with {\arrow{Triangle}}
        }, 
        postaction={decorate}
    }
}

\begin{document}

\begin{tikzpicture}[node distance=2cm]

\node[rounded corners, draw, inner xsep = 3mm, inner ysep=1cm, fill=blue1, minimum width=8.5cm,minimum height=6cm] (largerec) at(-.5,0){};

\matrix[row sep=0.8cm,column sep=0.8cm] {
    \node [draw, circle, minimum size=.6cm] (circle1) { . }; &
    &
    \node[draw, circle, minimum size=.6cm] (circle2) { + }; &
    \node[label={$ c ^{\langle{} t \rangle{} } $}] (hid) { }; &
    \node (hid) { }; &
    \\
    &
    &
    \node [draw, circle, minimum size=.6cm] (circle3) { . }; &
    &
    \node [draw, circle, minimum size=.6cm] (circle4) { . }; &
    \\
    \node (rect) [draw, rounded corners, fill=yellow1, minimum width=.6cm,minimum height=1.2cm] (rect1) { {$ g_f ^{\langle{} t \rangle{} } $ }}; &
    \node (rect) [draw, rounded corners, fill=yellow1, minimum width=.6cm,minimum height=1.2cm] (rect2) { {$ g_i ^{\langle{} t \rangle{} } $ }}; &
    \node (rect) [draw, rounded corners, fill=blue0, minimum width=.6cm,minimum height=1.2cm] (rect3) { {$ \tilde c ^{\langle{} t \rangle{} } $ }}; &
    \node (rect) [draw, rounded corners, fill=yellow1, minimum width=.6cm,minimum height=1.2cm] (rect4) { {$ g_o ^{\langle{} t \rangle{} } $ }}; &
    &
    \\
    \node (hid1) { }; &
    \node (hid2) { }; &
    \node (hid3) { }; &
    \node (hid4) { }; &
    \node (hid5) { }; &
    &
    \\
    };

\node [rounded corners, draw, fill=green1, minimum width=1.3cm, minimum height=2cm] at ($(rect1.east)+(-.5,-4)$)(rect5)  {$ x ^{\langle{} t \rangle{} } $};

\node [rounded corners, draw, fill=blue0, minimum width=1.3cm, minimum height=2cm, node distance=3cm, left of=circle1] (rect6)  {$ c ^{\langle{} t-1 \rangle{} } $};

\node [rounded corners, draw, fill=blue0, minimum width=1.3cm, minimum height=2cm, node distance=3cm, left of=hid1] (rect7)  {$ h ^{\langle{} t-1 \rangle{} } $};

\node [rounded corners, draw, fill=blue0, minimum width=1.3cm, minimum height=2cm, node distance=6.5cm, right of=circle2] (rect8)  {$ c ^{\langle{} t \rangle{} } $};

\node [rounded corners, draw, fill=blue0, minimum width=1.3cm, minimum height=2cm, above right = 7cm and .1cm of hid5] (rect9)  {$ h ^{\langle{} t \rangle{} } $};

\node [rounded corners, draw, fill=blue0, minimum width=1.3cm, minimum height=2cm, node distance=3.5cm, right of=hid5] (rect10)  {$ h ^{\langle{} t \rangle{} } $};

\draw[-Triangle] (rect1.north) -- (circle1.south) {};
\draw[-Triangle] (circle3.north) -- (circle2.south) {};
\draw (circle1.east) -- (circle2.west) {};
\draw (rect3.north) -- (circle3.south) {};
\draw[-Triangle] (rect2) |- (circle3);
\draw[-Triangle] (rect4) |- (circle4);

\draw (hid.center) -- (circle4) node[midway,anchor=center, fill=blue1] {$S_{\text{Tanh}}(\cdot)$};
\draw (rect4) -- (hid4.center) node[midway,anchor=center, fill=blue1] {$S_{\text{Sig}}(\cdot)$};
\draw (rect3) -- (hid3.center) node[midway,anchor=center, fill=blue1] {$S_{\text{Tanh}}(\cdot)$};
\draw (rect2) -- (hid2.center) node[midway,anchor=center, fill=blue1] {$S_{\text{Sig}}(\cdot)$};
\draw (rect1) -- (hid1.center) node[midway,anchor=center, fill=blue1] {$S_{\text{Sig}}(\cdot)$};
\draw (circle4) -- (hid5.center) node[] {};
\draw[-Triangle] (hid1.center) -- (rect10) {};
\draw[Triangle-] (hid1.west) -- ++(0,-1.5){};
\draw [middlearrow] (rect7) -- (hid1.center) node[ above, pos=.3] {};
\draw [-Triangle] (circle2) -- (rect8);
\draw [middlearrow] (rect6) -- (circle1);
\draw [Triangle-] (rect9) -- (rect9 |- hid5);

\end{tikzpicture}
\end{document}