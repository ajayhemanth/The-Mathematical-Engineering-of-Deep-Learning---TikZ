\documentclass[tikz, border=50pt]{standalone}

\usepackage{tikz}
\usepackage{medl_colors}
\usepackage{amsmath,xstring}
\usepackage{ifthen}
\usetikzlibrary{shapes.multipart, shapes.geometric, arrows.meta, decorations.pathreplacing, calligraphy}
\usetikzlibrary{matrix, calc, positioning,fit, backgrounds}
\begin {document}

\begin{tikzpicture}[every node/.style={minimum size=1cm},on grid]

\begin{scope}[every node/.append style={yslant=0.3},yslant=0.3]

\newcommand\slantarray[8]{
    \foreach \i in {0,...,#3}{
      \draw[#6, line width=#7] (#1,#2) grid (#1+#3+1, #2-#4-1);
      \pgfmathparse{#1+((#3+1)/2)}\edef\ni{\pgfmathresult};
      \pgfmathparse{#2-#4-1.5}\edef\nj{\pgfmathresult};
      \node[#6] at(\ni,\nj){\huge #8};
    }
}

\newcommand\fillbg[6]{
    \begin{scope}[on background layer]
    \node[rectangle,thick, minimum size=1cm,fill=#5] at (#1+.5+#3,#2-.5-#4){#6};    
    \end{scope}
}

\newcommand\lines[8]{
    \draw[#7, ultra thick, opacity=.5] (#1,#2) -- (#3,#4);
    \draw[#7, ultra thick, opacity=.5] (#1+#5,#2) -- (#3+#6,#4);
    \draw[#7, ultra thick, opacity=.5] (#1,#2-#5) -- (#3,#4-#6);
    \draw[#7, ultra thick, opacity=.5] (#1+#5,#2-#5) -- (#3+#6,#4-#6);
}

\slantarray{0}{0}{9}{9}{0}{black!60}{2}{a};
\slantarray{25}{-7}{1}{1}{1}{black!60}{2}{z};

\slantarray{0}{0}{2}{2}{0}{blue1}{3}{};
\slantarray{15}{-4}{2}{2}{1}{blue1}{3}{w};
\lines{0}{0}{15}{-4}{3}{3}{blue1}{blue1}
\lines{15}{-4}{25}{-7}{3}{1}{blue1}{blue1}
\fillbg{25}{-7}{0}{0}{blue1}{}

\slantarray{0}{-5}{2}{2}{1}{green2}{3}{};
\slantarray{15}{-9}{2}{2}{1}{green2}{3}{w};
\lines{0}{-5}{15}{-9}{3}{3}{green2}{green1}
\lines{15}{-9}{25}{-8}{3}{1}{green2}{green2}
\fillbg{25}{-8}{0}{0}{green2}{}

\slantarray{4}{0}{2}{2}{1}{red}{3}{};
\slantarray{19}{-4}{2}{2}{1}{red}{3}{w};
\lines{4}{0}{19}{-4}{3}{3}{red}{red}
\lines{19}{-4}{26}{-7}{3}{1}{red}{red}
\fillbg{26}{-7}{0}{0}{red}{}

\slantarray{4}{-5}{2}{2}{1}{pink0}{3}{};
\slantarray{19}{-9}{2}{2}{1}{pink0}{3}{w};
\lines{4}{-5}{19}{-9}{3}{3}{pink0}{pink1}
\lines{19}{-9}{26}{-8}{3}{1}{pink0}{pink0}
\fillbg{26}{-8}{0}{0}{pink0}{}

\draw[decorate, decoration={calligraphic brace,amplitude=5pt, raise = .5cm}, pen colour={black!50}, ultra thick] (0,0) -- (4,0) node[above=.8cm, pos=.5]{\huge $s_w = 4$};
\draw[decorate, decoration={calligraphic brace,amplitude=5pt, raise = .5cm}, pen colour={black!50}, ultra thick] (0,-5) -- (0,0) node[left=.8cm, pos=.5]{\huge $s_h = 5$};


\end{scope}
\end{tikzpicture}
\end{document}